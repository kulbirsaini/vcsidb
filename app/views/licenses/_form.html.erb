<%= javascript_tag do %>
  jQuery(document).ready(function(){
    jQuery('#license_start_date').datepicker();
    jQuery('#license_end_date').datepicker();
    jQuery('#license_renewal_date').datepicker();
  });
<% end %>
<%= form_for(@license) do |f| %>
  <% if @license.errors.any? %>
    <div class="row">
      <div class="span14 offset1">
        <div id="error_explanation" class="alert-message block-message error">
          <h3><%= pluralize(@license.errors.count, "error") %> prohibited this license from being saved:</h3>

          <ul>
          <% @license.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      </div>
    </div>
  <% end %>

  <div class="row show-grid">
    <div class="span8">
      <div class="clearfix">
        <%= f.label :client_id %>
        <div class="input"><%= f.select :client_id, Client.all.map{ |c| [c.name || c.email, c.id] }, { :include_blank => 'Select Client' } %></div>
      </div>
      <div class="clearfix">
        <%= f.label :key %>
        <div class="input"><%= f.text_field :key %></div>
      </div>
      <div class="clearfix">
        <%= f.label :start_date %>
        <div class="input"><%= f.text_field :start_date %></div>
      </div>
      <div class="clearfix">
        <%= f.label :end_date %>
        <div class="input"><%= f.text_field :end_date %></div>
      </div>
      <div class="clearfix">
        <%= f.label :renewal_date %>
        <div class="input"><%= f.text_field :renewal_date %></div>
      </div>
      <div class="clearfix">
        <%= f.label :period %>
        <div class="input"><%= f.number_field :period %></div>
      </div>
    </div>

    <div class="span8">
      <div class="clearfix">
        <%= f.label :num_servers %>
        <div class="input"><%= f.number_field :num_servers %></div>
      </div>
      <div class="clearfix">
        <%= f.label :price %>
        <div class="input"><%= f.text_field :price %></div>
      </div>
      <div class="clearfix">
        <%= f.label :paid %>
        <div class="input"><%= f.text_field :paid %></div>
      </div>
      <div class="clearfix">
        <%= f.label :payment_gateway_id %>
        <div class="input"><%= f.select :payment_gateway_id, PaymentGateway.all.map{ |p| [p.name, p.id] }, { :include_blank => 'Select Payment Gateway' } %></div>
      </div>
      <div class="clearfix">
        <%= f.label :renewal_reminders %>
        <div class="input"><%= f.select :renewal_reminders, 0.upto(3).map{ |i| [i, i] } %></div>
      </div>
      <div class="clearfix">
        <%= f.label :trial %>
        <div class="input"><%= f.check_box :trial %></div>
      </div>
      <div class="clearfix">
        <%= f.label :expired %>
        <div class="input"><%= f.check_box :expired %></div>
      </div>
    </div>
  </div>

  <div class="clearfix">
    <%= f.label :notes %>
    <div class="input"><%= f.text_area :notes %></div>
  </div>
  <div class="actions">
    <%= f.submit :class => 'btn primary' %>
  </div>
<% end %>
